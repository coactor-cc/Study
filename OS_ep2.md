# 进程与线程
## 进程
为了实现程序并发执行  
对程序进行控制和划分的概念
### 概念
通俗：执行中的程序
是进程实体`程序`的运行过程，是系统进行资源分配和调度的独立单位
一个程序需要活动需要操作系统支持，如分配内存
进程包括机器状态信息PC、IR、PSR，现场信息GPR+进堆栈段，数据段

程序：外存中的可执行文件  
装载：双击|命令行  
### 进程状态

TODO 画图  
### 进程控制块PCB
进程状态  
pid   
中断相关：PC、PSG 断点及程序状态、GPRs 现场(包括了函数调用栈指针等)   
存储管理相关：进程内存边界 **页表段表**  
调度相关：优先级、、、  
I/O管理相关：打开文件列表、给进程分配的I/O设备表  
TODO 补充
记账信息：占用的资源等，网络传输带宽等


### 进程创建和终止
#### fork()
创建一个子进程，两个进程一起执行，如果不wait的话
#### wait()
#### exit()
可用父进程终止子进程

## 线程
### 概念
共享代码和数据、只改变运行的信息
### 多线程模型
考阻塞的问题
用户线程  
直接写了个线程库函数  
对操作系统来说，用户级线程具有不可见性，也称透明性
内核线程
之间的切换需要CPU切换运行状态
#### 多对1
任1时刻只能有一个线程访问内核，一个发生系统调用阻塞全部阻塞如scanf 全部阻塞，整个进程阻塞了
#### 1对1

#### 多对多
代码逻辑→运行机会

## 进程调度
选择可用的进程执行  
给PC及其工作的这一套系统CPU给他分配一个需要执行的指令序列
利用队列的链式实现将PCB串起来
利用调度程序控制它执行 
妈蛋你都程序跑了你没占CPU你怎么调度？？？
TODO 疑问  
## 互斥与同步
## 死锁